{"version":3,"sources":["01_main.js"],"names":["$","document","ready","click","addClass","removeClass","mouseenter","e","$this","this","$animation","find","offset","x","pageX","left","y","pageY","top","css","mousemove","isClicked","createTimeline","window","matchMedia","matches","myTimeline","kill","params","mainItemsY","mainItemsScale","gsap","timeline","scrollTrigger","trigger","start","end","scrub","pin","pinSpacing","to","opacity","ease","scale","on","preventDefault","allFilled","each","$input","$formGroup","closest","val","trim","registerPlugin","ScrollTrigger","addEventListener","$main","originalBg","data","newBg","groups","utils","toArray","container","querySelector","create","innerHeight","snap","length","onUpdate","self","index","Math","round","progress","forEach","group","i","classList","add","remove"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    // Menu\r\n    $('.burger').click(function () {\r\n        $('.menu').addClass('menu--active')\r\n        $('body').addClass('fixed-body')\r\n    })\r\n\r\n    $('.menu__close').click(function () {\r\n        $('.menu').removeClass('menu--active')\r\n        $('body').removeClass('fixed-body')\r\n    })\r\n\r\n    // Btn-animation\r\n    $(\".btn-animation\").mouseenter(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    $(\".btn-animation\").mousemove(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    // Form\r\n    let isClicked = false;\r\n\r\n    $('.form').on('submit', function(e) {\r\n        e.preventDefault();\r\n\r\n        isClicked = true;\r\n        let allFilled = true;\r\n\r\n        $(this).find('.form-group input').each(function() {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n                allFilled = false;\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        });\r\n    });\r\n\r\n    $('.form-group input').on('input', function() {\r\n        if (isClicked) {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        }\r\n    });\r\n\r\n    // Animation\r\n    gsap.registerPlugin(ScrollTrigger);\r\n\r\n    // Main\r\n    function getAnimationParams() {\r\n        const isMobile = window.matchMedia('(max-width: 1200px)').matches;\r\n        if (isMobile) {\r\n            return {\r\n                mainItemsY: -250,\r\n                mainItemsScale: 1.2,\r\n            };\r\n        } else {\r\n            return {\r\n                mainItemsY: -350,\r\n                mainItemsScale: 1.6,\r\n            };\r\n        }\r\n    }\r\n\r\n    function createTimeline() {\r\n        if (window.matchMedia('(max-width: 992px)').matches) {\r\n            if (window.myTimeline) {\r\n                window.myTimeline.kill();\r\n                window.myTimeline = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        const params = getAnimationParams();\r\n\r\n        if (window.myTimeline) {\r\n            window.myTimeline.kill();\r\n        }\r\n\r\n        window.myTimeline = gsap.timeline({\r\n            scrollTrigger: {\r\n                trigger: \".main\",\r\n                start: \"top top\",\r\n                end: \"bottom top\",\r\n                scrub: true,\r\n                pin: true,\r\n                pinSpacing: false,\r\n            }\r\n        })\r\n            .to(\".main__title\", {\r\n                opacity: 0,\r\n                ease: \"power1.out\",\r\n            }, 0)\r\n            .to(\".main__btn\", {\r\n                y: -100,\r\n                opacity: 0,\r\n                scale: 0.8,\r\n                ease: \"power1.inOut\",\r\n            }, 0)\r\n            .to(\".main__items\", {\r\n                y: params.mainItemsY,\r\n                scale: params.mainItemsScale,\r\n                ease: \"power1.inOut\",\r\n            }, 0);\r\n    }\r\n\r\n    createTimeline();\r\n\r\n    window.addEventListener('resize', () => {\r\n        createTimeline();\r\n    });\r\n\r\n    if (!window.matchMedia('(max-width: 992px)').matches) {\r\n        var $main = $('.main');\r\n        var originalBg = $main.data('background');\r\n\r\n        $main.css('background-image', 'url(' + originalBg + ')');\r\n\r\n        $('.main__item').on('mouseenter', function() {\r\n            var newBg = $(this).data('background');\r\n            $main.css('background-image', 'url(' + newBg + ')');\r\n        });\r\n\r\n        $('.main__item').on('mouseleave', function() {\r\n            $main.css('background-image', 'url(' + originalBg + ')');\r\n        });\r\n    }\r\n\r\n    // Main-mob\r\n    const groups = gsap.utils.toArray('.main__mob-group');\r\n    const container = document.querySelector('.main__mob');\r\n\r\n    ScrollTrigger.create({\r\n        trigger: container,\r\n        start: \"top top\",\r\n        end: () => `+=${window.innerHeight * (groups.length)}`,\r\n        pin: true,\r\n        scrub: 1,\r\n        snap: 1 / (groups.length - 1),\r\n        onUpdate: self => {\r\n            // Вычисляем индекс активного блока\r\n            const index = Math.round(self.progress * (groups.length - 1));\r\n            groups.forEach((group, i) => {\r\n                if (i === index) {\r\n                    group.classList.add('active');\r\n                } else {\r\n                    group.classList.remove('active');\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n})\r\n\r\n\r\n"]}