{"version":3,"sources":["01_main.js"],"names":["sliderServices","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","breakpoints","320","993","$","document","ready","click","addClass","removeClass","lastScrollTop","header","window","scroll","scrollTop","this","mouseenter","e","$this","$animation","find","offset","x","pageX","left","y","pageY","top","css","mousemove","isClicked","on","preventDefault","allFilled","each","$input","$formGroup","closest","val","trim","t","closeModal","createTimeline","matchMedia","matches","myTimeline","kill","params","mainItemsY","mainItemsScale","gsap","timeline","scrollTrigger","trigger","start","end","scrub","pin","to","opacity","ease","scale","duration","animate","modalId","openModal","attr","stopPropagation","registerPlugin","ScrollTrigger","addEventListener","$main","originalBg","data","newBg","groups","utils","toArray","container","querySelector","create","innerHeight","snap","length","onUpdate","self","index","Math","round","progress","forEach","group","i","classList","add","remove","area","src","div","createElement","style","backgroundImage","position","width","height","backgroundSize","backgroundPosition","pointerEvents","appendChild","bgSlides","slideCount","scrollLength","floor","slide","advantagesTimeline","paused","animateAdvantagesItems","items","querySelectorAll","clear","item","play","observerAdvantages","IntersectionObserver","entries","observer","entry","isIntersecting","disconnect","threshold","advantagesSection","observe","mapSection","img1","img2","img1DisappearLength","img2AppearLength","pinExtra","animateMap","right","pinSpacing","anticipatePin","observerMap","house","observerHouse","houseSection","serviceTimeline","observerServices","servicesSection"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["function sliderServices() {\r\n    var swiper = new Swiper('.services .mySwiper', {\r\n        slidesPerView: \"auto\",\r\n        spaceBetween: 20,\r\n        navigation: {\r\n            nextEl: \".services .swiper-button-next\",\r\n            prevEl: \".services .swiper-button-prev\",\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                spaceBetween: 10,\r\n            },\r\n            993: {\r\n                spaceBetween: 20,\r\n            },\r\n        }\r\n    });\r\n}\r\n\r\n$(document).ready(function () {\r\n    sliderServices();\r\n\r\n    // Menu\r\n    $('.burger').click(function () {\r\n        $('.menu').addClass('menu--active')\r\n        $('body').addClass('fixed-body')\r\n    })\r\n\r\n    $('.menu__close').click(function () {\r\n        $('.menu').removeClass('menu--active')\r\n        $('body').removeClass('fixed-body')\r\n    })\r\n\r\n    // Header\r\n    let lastScrollTop = 0;\r\n    const header = $('#header');\r\n\r\n    $(window).scroll(function() {\r\n        let scrollTop = $(this).scrollTop();\r\n\r\n        if (scrollTop > lastScrollTop) {\r\n            header.addClass('header-fixed');\r\n        } else {\r\n            header.removeClass('header-fixed');\r\n        }\r\n        lastScrollTop = scrollTop;\r\n    });\r\n\r\n    // Btn-animation\r\n    $(\".btn-animation\").mouseenter(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    $(\".btn-animation\").mousemove(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    // Form\r\n    let isClicked = false;\r\n    $('.form').on('submit', function(e) {\r\n        e.preventDefault();\r\n\r\n        isClicked = true;\r\n        let allFilled = true;\r\n\r\n        $(this).find('.form-group input').each(function() {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n                allFilled = false;\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        });\r\n    });\r\n    $('.form-group input').on('input', function() {\r\n        if (isClicked) {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        }\r\n    });\r\n\r\n    // Up\r\n    var t = $(\".up\");\r\n\r\n    $(window).scroll(function() {\r\n        if ($(window).scrollTop() > 300) {\r\n            t.addClass(\"up--active\");\r\n        } else {\r\n            t.removeClass(\"up--active\");\r\n        }\r\n    });\r\n\r\n    t.on(\"click\", function(e) {\r\n        e.preventDefault();\r\n        $(\"html, body\").animate({\r\n            scrollTop: 0\r\n        }, 300);\r\n    });\r\n\r\n    // Modal\r\n    $(\"[data-modal]\").click(function () {\r\n        let modalId = $(this).attr(\"data-modal\")\r\n\r\n        openModal(modalId)\r\n    })\r\n\r\n    function openModal(modalId){\r\n        $(`#${modalId}`).addClass(\"modal--active\")\r\n        $(\"body\").addClass(\"fixed-body\")\r\n    }\r\n\r\n    $(\".modal\").click(function () {\r\n        closeModal()\r\n    })\r\n\r\n    $(\"._close-modal\").click(function () {\r\n        closeModal()\r\n    })\r\n\r\n    $(\".modal__dialog\").click(function (e) {\r\n        e.stopPropagation()\r\n    })\r\n\r\n\r\n    function closeModal() {\r\n        $('.modal').removeClass(\"modal--active\")\r\n        $(\"body\").removeClass(\"fixed-body\")\r\n    }\r\n\r\n    // Animation\r\n    gsap.registerPlugin(ScrollTrigger);\r\n\r\n    // Main\r\n    function getAnimationParams() {\r\n        const isMobile = window.matchMedia('(max-width: 1200px)').matches;\r\n        if (isMobile) {\r\n            return {\r\n                mainItemsY: -250,\r\n                mainItemsScale: 1.2,\r\n            };\r\n        } else {\r\n            return {\r\n                mainItemsY: -350,\r\n                mainItemsScale: 1.6,\r\n            };\r\n        }\r\n    }\r\n    function createTimeline() {\r\n        if (window.matchMedia('(max-width: 992px)').matches) {\r\n            if (window.myTimeline) {\r\n                window.myTimeline.kill();\r\n                window.myTimeline = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        const params = getAnimationParams();\r\n\r\n        if (window.myTimeline) {\r\n            window.myTimeline.kill();\r\n        }\r\n\r\n        window.myTimeline = gsap.timeline({\r\n            scrollTrigger: {\r\n                trigger: \".main\",\r\n                start: \"top top\",\r\n                end: \"+=200%\",   // увеличиваем длину триггера для задержки\r\n                scrub: true,\r\n                pin: true,\r\n            }\r\n        })\r\n            .to(\".main__title\", {\r\n                opacity: 0,\r\n                ease: \"power1.out\",\r\n            }, 0)\r\n            .to(\".main__btn\", {\r\n                y: -100,\r\n                opacity: 0,\r\n                scale: 0.8,\r\n                ease: \"power1.inOut\",\r\n            }, 0)\r\n            .to(\".main__items\", {\r\n                y: params.mainItemsY,\r\n                scale: params.mainItemsScale,\r\n                ease: \"power1.inOut\",\r\n            }, 0)\r\n            // Пустой tween для \"залипания\" после анимации\r\n            .to({}, { duration: 0.5 });\r\n    }\r\n    createTimeline();\r\n    window.addEventListener('resize', () => {\r\n        createTimeline();\r\n    });\r\n    if (!window.matchMedia('(max-width: 992px)').matches) {\r\n        var $main = $('.main');\r\n        var originalBg = $main.data('background');\r\n\r\n        $main.css('background-image', 'url(' + originalBg + ')');\r\n\r\n        $('.main__item').on('mouseenter', function() {\r\n            var newBg = $(this).data('background');\r\n            $main.css('background-image', 'url(' + newBg + ')');\r\n        });\r\n\r\n        $('.main__item').on('mouseleave', function() {\r\n            $main.css('background-image', 'url(' + originalBg + ')');\r\n        });\r\n    }\r\n\r\n    // Main-mob\r\n    const groups = gsap.utils.toArray('.main__mob-group');\r\n    const container = document.querySelector('.main__mob');\r\n    ScrollTrigger.create({\r\n        trigger: container,\r\n        start: \"top top\",\r\n        end: () => `+=${window.innerHeight * (groups.length)}`,\r\n        pin: true,\r\n        scrub: 1,\r\n        snap: 1 / (groups.length - 1),\r\n        onUpdate: self => {\r\n            // Вычисляем индекс активного блока\r\n            const index = Math.round(self.progress * (groups.length - 1));\r\n            groups.forEach((group, i) => {\r\n                if (i === index) {\r\n                    group.classList.add('active');\r\n                } else {\r\n                    group.classList.remove('active');\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    // Gallery\r\n\r\n    // Area\r\n    const area = document.querySelector('.area');\r\n    const images = [\r\n        'img/area-img.webp',\r\n        'img/area-img2.webp',\r\n        'img/area-img3.webp',\r\n        'img/area-img4.webp',\r\n        'img/area-img5.webp',\r\n        'img/area-img6.webp',\r\n        'img/area-img7.webp',\r\n        'img/area-img8.webp',\r\n        'img/area-img9.webp',\r\n        'img/area-img10.webp',\r\n        'img/area-img11.webp',\r\n        'img/area-img12.webp',\r\n        'img/area-img13.webp',\r\n        'img/area-img14.webp',\r\n        'img/area-img15.webp',\r\n        'img/area-img16.webp',\r\n        'img/area-img17.webp',\r\n        'img/area-img18.webp',\r\n        'img/area-img19.webp',\r\n        'img/area-img20.webp',\r\n        'img/area-img21.webp',\r\n        'img/area-img22.webp',\r\n    ];\r\n    images.forEach((src, i) => {\r\n        const div = document.createElement('div');\r\n        div.style.backgroundImage = `url(${src})`;\r\n        div.style.position = 'absolute';\r\n        div.style.top = 0;\r\n        div.style.left = 0;\r\n        div.style.width = '100%';\r\n        div.style.height = '100%';\r\n        div.style.backgroundSize = 'cover';\r\n        div.style.backgroundPosition = 'center center';\r\n        div.style.opacity = i === 0 ? '1' : '0';\r\n        div.style.pointerEvents = 'none';\r\n        div.classList.add('bg-slide');\r\n        area.appendChild(div);\r\n    });\r\n    const bgSlides = gsap.utils.toArray('.bg-slide');\r\n    const slideCount = bgSlides.length;\r\n    const scrollLength = slideCount * 500;\r\n    ScrollTrigger.create({\r\n        trigger: area,\r\n        start: \"top top\",\r\n        end: \"+=\" + scrollLength,\r\n        scrub: true,\r\n        pin: true,\r\n        onUpdate: self => {\r\n            const progress = self.progress;\r\n            let index = Math.floor(progress * slideCount);\r\n            if (index >= slideCount) index = slideCount - 1;\r\n\r\n            bgSlides.forEach((slide, i) => {\r\n                slide.style.opacity = i === index ? '1' : '0';\r\n            });\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n})\r\n\r\n// Advantages\r\nconst advantagesTimeline = gsap.timeline({ paused: true });\r\nfunction animateAdvantagesItems() {\r\n    const items = document.querySelectorAll('.advantages__item');\r\n    advantagesTimeline.clear();\r\n\r\n    items.forEach((item) => {\r\n        advantagesTimeline.to(item, {\r\n            opacity: 1,\r\n            y: 0,\r\n            duration: 0.6,\r\n            ease: 'power2.out'\r\n        });\r\n    });\r\n\r\n    advantagesTimeline.play();\r\n}\r\nconst observerAdvantages = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            animateAdvantagesItems();\r\n            observer.disconnect();\r\n        }\r\n    });\r\n}, {\r\n    threshold: 0.5\r\n});\r\nconst advantagesSection = document.querySelector('.advantages__items');\r\nif (advantagesSection) {\r\n    observerAdvantages.observe(advantagesSection);\r\n}\r\n\r\n// Map\r\nconst mapSection = document.querySelector('.map');\r\nconst img1 = mapSection.querySelector('.map-img');\r\nconst img2 = mapSection.querySelector('.map-img2 img');\r\nconst img1DisappearLength = 150;\r\nconst img2AppearLength = 300;\r\nconst pinExtra = 200;\r\n\r\nfunction animateMap() {\r\n    ScrollTrigger.create({\r\n        trigger: mapSection,\r\n        start: 'top top',\r\n        end: `+=${img1DisappearLength}`,\r\n        onUpdate: self => {\r\n            if (self.progress === 1) {\r\n                mapSection.classList.add('map--active');\r\n            } else {\r\n                mapSection.classList.remove('map--active');\r\n            }\r\n        },\r\n    });\r\n\r\n    gsap.to(img1, {\r\n        opacity: 0,\r\n        pointerEvents: 'none',\r\n        ease: 'none',\r\n        scrollTrigger: {\r\n            trigger: mapSection,\r\n            start: 'top top',\r\n            end: `+=${img1DisappearLength}`,\r\n            scrub: true,\r\n        }\r\n    });\r\n\r\n    gsap.to(img2, {\r\n        opacity: 1,\r\n        top: 0,\r\n        right: 0,\r\n        width: '100%',\r\n        pointerEvents: 'auto',\r\n        ease: 'none',\r\n        scrollTrigger: {\r\n            trigger: mapSection,\r\n            start: `top+=${img1DisappearLength} top`,\r\n            end: `+=${img2AppearLength}`,\r\n            scrub: true,\r\n        }\r\n    });\r\n\r\n    ScrollTrigger.create({\r\n        trigger: mapSection,\r\n        start: 'top top',\r\n        end: `+=${img1DisappearLength + img2AppearLength + pinExtra}`,\r\n        pin: true,\r\n        pinSpacing: true,\r\n        anticipatePin: 1,\r\n    });\r\n}\r\n\r\nconst observerMap = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            animateMap();\r\n            observer.disconnect();\r\n        }\r\n    });\r\n}, {\r\n    threshold: 0.5\r\n});\r\n\r\nif (mapSection) {\r\n    observerMap.observe(mapSection);\r\n}\r\n\r\n// House\r\nconst house = document.querySelector('.house');\r\nconst observerHouse = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            house.classList.add('house--active');\r\n        } else {\r\n            house.classList.remove('house--active');\r\n        }\r\n    });\r\n}, { threshold: 0.5 });\r\nconst houseSection = document.querySelector('.house__img');\r\nif (houseSection) {\r\n    observerHouse.observe(houseSection);\r\n}\r\n\r\n// Services\r\nconst serviceTimeline = gsap.timeline({ paused: true });\r\nconst observerServices = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            serviceTimeline.clear();\r\n\r\n            document.querySelectorAll('.services__slider .swiper-slide').forEach((item, index) => {\r\n                serviceTimeline.to(item, {\r\n                    opacity: 1,\r\n                    y: 0,\r\n                    duration: 0.6,\r\n                    ease: 'power2.out'\r\n                });\r\n            });\r\n\r\n            serviceTimeline.play();\r\n            observer.disconnect();\r\n        }\r\n    });\r\n}, { threshold: 0.5 });\r\nconst servicesSection = document.querySelector('.services__slider');\r\nif (servicesSection) {\r\n    observerServices.observe(servicesSection);\r\n}\r\n\r\n\r\n\r\n\r\n"]}