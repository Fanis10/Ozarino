{"version":3,"sources":["01_main.js"],"names":["sliderServices","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","breakpoints","320","993","$","document","ready","click","addClass","removeClass","mouseenter","e","$this","this","$animation","find","offset","x","pageX","left","y","pageY","top","css","mousemove","isClicked","on","preventDefault","allFilled","each","$input","$formGroup","closest","val","trim","t","closeModal","window","scroll","scrollTop","animate","modalId","openModal","attr","stopPropagation","gsap","registerPlugin","ScrollTrigger","section","querySelector","bigImage","grid1","grid2","grid3","grid4","gridAnim1","to","ease","paused","gridAnim2","gridAnim3","gridAnim4","create","trigger","start","end","scrub","onUpdate","self","progress","duration","classList","contains","add","remove","area","forEach","src","i","div","createElement","style","backgroundImage","position","width","height","backgroundSize","backgroundPosition","opacity","pointerEvents","appendChild","bgSlides","utils","toArray","slideCount","length","scrollLength","pin","index","Math","floor","slide","advantagesTimeline","timeline","animateAdvantagesItems","items","querySelectorAll","clear","Array","from","reverse","item","play","observerAdvantages","IntersectionObserver","entries","observer","entry","isIntersecting","disconnect","threshold","advantagesSection","observe","mapSection","img1","img2","img1DisappearLength","img2AppearLength","pinExtra","scrollTriggers","clearTriggers","st","kill","animateMap","isWide","innerWidth","startPoint","getBoundingClientRect","bottom","pageYOffset","innerHeight","endPointImg1","startPointImg2","endPointImg2","push","scale","scrollTrigger","display","right","pinSpacing","anticipatePin","observerMap","addEventListener","getAll","house","observerHouse","houseSection","serviceTimeline","observerServices","servicesSection"],"mappings":"AAAA,SAASA,iBACQ,IAAIC,OAAO,sBAAuB,CAC3CC,cAAe,OACfC,aAAc,GACdC,WAAY,CACRC,OAAQ,gCACRC,OAAQ,iCAEZC,YAAa,CACTC,IAAK,CACDL,aAAc,IAElBM,IAAK,CACDN,aAAc,OAM9BO,EAAEC,UAAUC,OAAM,WACdZ,iBAGAU,EAAE,WAAWG,OAAM,WACfH,EAAE,SAASI,SAAS,gBACpBJ,EAAE,QAAQI,SAAS,iBAGvBJ,EAAE,gBAAgBG,OAAM,WACpBH,EAAE,SAASK,YAAY,gBACvBL,EAAE,QAAQK,YAAY,iBAmB1BL,EAAE,kBAAkBM,YAAW,SAASC,GACpC,IAAIC,EAAQR,EAAES,MACVC,EAAaF,EAAMG,KAAK,WACxBC,EAASJ,EAAMI,SACfC,EAAIN,EAAEO,MAAQF,EAAOG,KACrBC,EAAIT,EAAEU,MAAQL,EAAOM,IACzBR,EAAWS,IAAI,CACXD,IAAKF,EAAI,KACTD,KAAMF,EAAI,UAIlBb,EAAE,kBAAkBoB,WAAU,SAASb,GACnC,IAAIC,EAAQR,EAAES,MACVC,EAAaF,EAAMG,KAAK,WACxBC,EAASJ,EAAMI,SACfC,EAAIN,EAAEO,MAAQF,EAAOG,KACrBC,EAAIT,EAAEU,MAAQL,EAAOM,IACzBR,EAAWS,IAAI,CACXD,IAAKF,EAAI,KACTD,KAAMF,EAAI,UAKlB,IAAIQ,GAAY,EAChBrB,EAAE,SAASsB,GAAG,UAAU,SAASf,GAC7BA,EAAEgB,iBAEFF,GAAY,EACZ,IAAIG,GAAY,EAEhBxB,EAAES,MAAME,KAAK,qBAAqBc,MAAK,WACnC,MAAMC,EAAS1B,EAAES,MACXkB,EAAaD,EAAOE,QAAQ,eAEN,KAAxBF,EAAOG,MAAMC,QACbH,EAAWvB,SAAS,sBACpBoB,GAAY,GAEZG,EAAWtB,YAAY,4BAInCL,EAAE,qBAAqBsB,GAAG,SAAS,WAC/B,GAAID,EAAW,CACX,MAAMK,EAAS1B,EAAES,MACXkB,EAAaD,EAAOE,QAAQ,eAEN,KAAxBF,EAAOG,MAAMC,OACbH,EAAWvB,SAAS,sBAEpBuB,EAAWtB,YAAY,0BAMnC,IAAI0B,EAAI/B,EAAE,OA0CV,SAASgC,IACLhC,EAAE,UAAUK,YAAY,iBACxBL,EAAE,QAAQK,YAAY,cA1C1BL,EAAEiC,QAAQC,QAAO,WACTlC,EAAEiC,QAAQE,YAAc,IACxBJ,EAAE3B,SAAS,cAEX2B,EAAE1B,YAAY,iBAItB0B,EAAET,GAAG,SAAS,SAASf,GACnBA,EAAEgB,iBACFvB,EAAE,cAAcoC,QAAQ,CACpBD,UAAW,GACZ,QAIPnC,EAAE,gBAAgBG,OAAM,YAMxB,SAAmBkC,GACfrC,EAAE,IAAIqC,GAAWjC,SAAS,iBAC1BJ,EAAE,QAAQI,SAAS,cALnBkC,CAFctC,EAAES,MAAM8B,KAAK,kBAU/BvC,EAAE,UAAUG,OAAM,WACd6B,OAGJhC,EAAE,iBAAiBG,OAAM,WACrB6B,OAGJhC,EAAE,kBAAkBG,OAAM,SAAUI,GAChCA,EAAEiC,qBAUNC,KAAKC,eAAeC,eASpB,MAAMC,EAAU3C,SAAS4C,cAAc,YACjCC,EAAW7C,SAAS4C,cAAc,0BAClCE,EAAQ9C,SAAS4C,cAAc,mBAC/BG,EAAQ/C,SAAS4C,cAAc,mBAC/BI,EAAQhD,SAAS4C,cAAc,mBAC/BK,EAAQjD,SAAS4C,cAAc,mBAE/BM,EAAYV,KAAKW,GAAGL,EAAO,CAC7BlC,GAAI,GACJwC,KAAM,eACNC,QAAQ,IAGNC,EAAYd,KAAKW,GAAGJ,EAAO,CAC7BnC,EAAG,GACHwC,KAAM,eACNC,QAAQ,IAGNE,EAAYf,KAAKW,GAAGH,EAAO,CAC7BpC,GAAI,GACJwC,KAAM,eACNC,QAAQ,IAGNG,EAAYhB,KAAKW,GAAGF,EAAO,CAC7BrC,EAAG,GACHwC,KAAM,eACNC,QAAQ,IAGZX,cAAce,OAAO,CACjBC,QAASb,EACTc,MAAO,gBACPC,IAAK,aACLC,MAAO,GACPC,SAAUC,IACN,MAAMC,EAAWD,EAAKC,SAEtBxB,KAAKW,GAAG,CAACD,EAAWI,EAAWC,EAAWC,GAAY,CAClDQ,SAAUA,EACVC,SAAU,GACVb,KAAM,iBAGNY,EAAW,IAAMrB,EAAQuB,UAAUC,SAAS,mBAC5CxB,EAAQuB,UAAUE,IAAI,mBACF,IAAbJ,GAAkBrB,EAAQuB,UAAUC,SAAS,oBACpDxB,EAAQuB,UAAUG,OAAO,sBAQrC,MAAMC,EAAOtE,SAAS4C,cAAc,SACrB,CACX,oBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,uBAEG2B,QAAQ,CAACC,EAAKC,KACjB,MAAMC,EAAM1E,SAAS2E,cAAc,OACnCD,EAAIE,MAAMC,gBAAkB,OAAOL,KACnCE,EAAIE,MAAME,SAAW,WACrBJ,EAAIE,MAAM3D,IAAM,EAChByD,EAAIE,MAAM9D,KAAO,EACjB4D,EAAIE,MAAMG,MAAQ,OAClBL,EAAIE,MAAMI,OAAS,OACnBN,EAAIE,MAAMK,eAAiB,QAC3BP,EAAIE,MAAMM,mBAAqB,gBAC/BR,EAAIE,MAAMO,QAAgB,IAANV,EAAU,IAAM,IACpCC,EAAIE,MAAMQ,cAAgB,OAC1BV,EAAIR,UAAUE,IAAI,YAClBE,EAAKe,YAAYX,KAErB,MAAMY,EAAW9C,KAAK+C,MAAMC,QAAQ,aAC9BC,EAAaH,EAASI,OACtBC,EAA4B,GAAbF,EACrB/C,cAAce,OAAO,CACjBC,QAASY,EACTX,MAAO,UACPC,IAAK,KAAO+B,EACZ9B,OAAO,EACP+B,KAAK,EACL9B,SAAUC,IACN,MAAMC,EAAWD,EAAKC,SACtB,IAAI6B,EAAQC,KAAKC,MAAM/B,EAAWyB,GAC9BI,GAASJ,IAAYI,EAAQJ,EAAa,GAE9CH,EAASf,QAAQ,CAACyB,EAAOvB,KACrBuB,EAAMpB,MAAMO,QAAUV,IAAMoB,EAAQ,IAAM,YAW1D,MAAMI,mBAAqBzD,KAAK0D,SAAS,CAAE7C,QAAQ,IACnD,SAAS8C,yBACL,MAAMC,EAAQpG,SAASqG,iBAAiB,qBAExCJ,mBAAmBK,QAEnBC,MAAMC,KAAKJ,GAAOK,UAAUlC,QAASmC,IACjCT,mBAAmB9C,GAAGuD,EAAM,CACxBvB,QAAS,EACTpE,EAAG,EACHkD,SAAU,GACVb,KAAM,cACP,SAGP6C,mBAAmBU,OAEvB,MAAMC,mBAAqB,IAAIC,qBAAqB,CAACC,EAASC,KAC1DD,EAAQvC,QAAQyC,IACRA,EAAMC,iBACNd,yBACAY,EAASG,iBAGlB,CACCC,UAAW,KAETC,kBAAoBpH,SAAS4C,cAAc,sBAC7CwE,mBACAR,mBAAmBS,QAAQD,mBAI/B,MAAME,WAAatH,SAAS4C,cAAc,QACpC2E,KAAOD,WAAW1E,cAAc,YAChC4E,KAAOF,WAAW1E,cAAc,iBAChC6E,oBAAsB,IACtBC,iBAAmB,IACnBC,SAAW,IACjB,IAAIC,eAAiB,GACrB,SAASC,gBACLD,eAAerD,QAAQuD,GAAMA,EAAGC,MAAQD,EAAGC,QAC3CH,eAAiB,GAErB,SAASI,aACLH,gBAEA,MAAMI,EAASjG,OAAOkG,YAAc,IAK9BC,EAAaF,EAAS,IAHHV,KAAKa,wBAAwBC,OAASrG,OAAOsG,YAGrBtG,OAAOuG,YAAc,IAFjDjB,WAAWc,wBAAwBnH,IAAMe,OAAOsG,YAI/DE,EAAe,IAAML,IAlBH,IAoBlBM,EAAiB,IAAMD,IACvBE,EAAe,IAAMD,IApBN,IAwBrBb,eAAee,KAAKjG,cAAce,OAAO,CACrCC,QAAS4D,WACT3D,MAAOwE,EACPvE,IAAK4E,EACL1E,SAAUC,IACgB,IAAlBA,EAAKC,SACLsD,WAAWpD,UAAUE,IAAI,eAEzBkD,WAAWpD,UAAUG,OAAO,mBAKxCuD,eAAee,KAAKnG,KAAKW,GAAGoE,KAAM,CAC9BpC,QAAS,EACTyD,MAAO,GACPxD,cAAe,OACfhC,KAAM,OACNyF,cAAe,CACXnF,QAAS4D,WACT3D,MAAOwE,EACPvE,IAAK4E,EACL3E,OAAO,MAIf+D,eAAee,KAAKnG,KAAKW,GAAGqE,KAAM,CAC9BsB,QAAS,QACT3D,QAAS,EACTlE,IAAK,EACL8H,MAAO,EACPhE,MAAO,OACPK,cAAe,OACfhC,KAAM,OACNyF,cAAe,CACXnF,QAAS4D,WACT3D,MAAO8E,EACP7E,IAAK8E,EACL7E,OAAO,MAIf+D,eAAee,KAAKjG,cAAce,OAAO,CACrCC,QAAS4D,WACT3D,MAAOwE,EACPvE,IA/CW,IAAM8E,IArBR,IAqET9C,KAAK,EACLoD,YAAY,EACZC,cAAe,KAGvB,MAAMC,YAAc,IAAIrC,qBAAqB,CAACC,EAASC,KACnDD,EAAQvC,QAAQyC,IACRA,EAAMC,iBACNe,aACAjB,EAASG,iBAGlB,CAAEC,UAAW,KACZG,YACA4B,YAAY7B,QAAQC,YAExBtF,OAAOmH,iBAAiB,SAAU,KAC1BzG,cAAc0G,SAAS1D,QACvBsC,eAKR,MAAMqB,MAAQrJ,SAAS4C,cAAc,UAC/B0G,cAAgB,IAAIzC,qBAAqB,CAACC,EAASC,KACrDD,EAAQvC,QAAQyC,IACRA,EAAMC,eACNoC,MAAMnF,UAAUE,IAAI,iBAEpBiF,MAAMnF,UAAUG,OAAO,oBAGhC,CAAE8C,UAAW,KACVoC,aAAevJ,SAAS4C,cAAc,eACxC2G,cACAD,cAAcjC,QAAQkC,cAI1B,MAAMC,gBAAkBhH,KAAK0D,SAAS,CAAE7C,QAAQ,IAC1CoG,iBAAmB,IAAI5C,qBAAqB,CAACC,EAASC,KACxDD,EAAQvC,QAAQyC,IACRA,EAAMC,iBACNuC,gBAAgBlD,QAEhBtG,SAASqG,iBAAiB,mCAAmC9B,QAAQ,CAACmC,EAAMb,KACxE2D,gBAAgBrG,GAAGuD,EAAM,CACrBvB,QAAS,EACTpE,EAAG,EACHkD,SAAU,GACVb,KAAM,iBAIdoG,gBAAgB7C,OAChBI,EAASG,iBAGlB,CAAEC,UAAW,KACVuC,gBAAkB1J,SAAS4C,cAAc,qBAC3C8G,iBACAD,iBAAiBpC,QAAQqC","file":"../js/main.min.js","sourcesContent":["function sliderServices() {\r\n    var swiper = new Swiper('.services .mySwiper', {\r\n        slidesPerView: \"auto\",\r\n        spaceBetween: 20,\r\n        navigation: {\r\n            nextEl: \".services .swiper-button-next\",\r\n            prevEl: \".services .swiper-button-prev\",\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                spaceBetween: 10,\r\n            },\r\n            993: {\r\n                spaceBetween: 20,\r\n            },\r\n        }\r\n    });\r\n}\r\n\r\n$(document).ready(function () {\r\n    sliderServices();\r\n\r\n    // Menu\r\n    $('.burger').click(function () {\r\n        $('.menu').addClass('menu--active')\r\n        $('body').addClass('fixed-body')\r\n    })\r\n\r\n    $('.menu__close').click(function () {\r\n        $('.menu').removeClass('menu--active')\r\n        $('body').removeClass('fixed-body')\r\n    })\r\n\r\n    // Header\r\n    // let lastScrollTop = 0;\r\n    // const header = $('#header');\r\n    //\r\n    // $(window).scroll(function() {\r\n    //     let scrollTop = $(this).scrollTop();\r\n    //\r\n    //     if (scrollTop > lastScrollTop) {\r\n    //         header.addClass('header-fixed');\r\n    //     } else {\r\n    //         header.removeClass('header-fixed');\r\n    //     }\r\n    //     lastScrollTop = scrollTop;\r\n    // });\r\n\r\n    // Btn-animation\r\n    $(\".btn-animation\").mouseenter(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    $(\".btn-animation\").mousemove(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    // Form\r\n    let isClicked = false;\r\n    $('.form').on('submit', function(e) {\r\n        e.preventDefault();\r\n\r\n        isClicked = true;\r\n        let allFilled = true;\r\n\r\n        $(this).find('.form-group input').each(function() {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n                allFilled = false;\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        });\r\n    });\r\n    $('.form-group input').on('input', function() {\r\n        if (isClicked) {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        }\r\n    });\r\n\r\n    // Up\r\n    var t = $(\".up\");\r\n\r\n    $(window).scroll(function() {\r\n        if ($(window).scrollTop() > 300) {\r\n            t.addClass(\"up--active\");\r\n        } else {\r\n            t.removeClass(\"up--active\");\r\n        }\r\n    });\r\n\r\n    t.on(\"click\", function(e) {\r\n        e.preventDefault();\r\n        $(\"html, body\").animate({\r\n            scrollTop: 0\r\n        }, 300);\r\n    });\r\n\r\n    // Modal\r\n    $(\"[data-modal]\").click(function () {\r\n        let modalId = $(this).attr(\"data-modal\")\r\n\r\n        openModal(modalId)\r\n    })\r\n\r\n    function openModal(modalId){\r\n        $(`#${modalId}`).addClass(\"modal--active\")\r\n        $(\"body\").addClass(\"fixed-body\")\r\n    }\r\n\r\n    $(\".modal\").click(function () {\r\n        closeModal()\r\n    })\r\n\r\n    $(\"._close-modal\").click(function () {\r\n        closeModal()\r\n    })\r\n\r\n    $(\".modal__dialog\").click(function (e) {\r\n        e.stopPropagation()\r\n    })\r\n\r\n\r\n    function closeModal() {\r\n        $('.modal').removeClass(\"modal--active\")\r\n        $(\"body\").removeClass(\"fixed-body\")\r\n    }\r\n\r\n    // Animation\r\n    gsap.registerPlugin(ScrollTrigger);\r\n\r\n    // Main\r\n\r\n\r\n    // Main-mob\r\n\r\n\r\n    // Gallery\r\n    const section = document.querySelector('.gallery');\r\n    const bigImage = document.querySelector('.gallery__img--big img');\r\n    const grid1 = document.querySelector('.images-grid--1');\r\n    const grid2 = document.querySelector('.images-grid--2');\r\n    const grid3 = document.querySelector('.images-grid--3');\r\n    const grid4 = document.querySelector('.images-grid--4');\r\n\r\n    const gridAnim1 = gsap.to(grid1, {\r\n        x: -20,\r\n        ease: 'power1.inOut',\r\n        paused: true\r\n    });\r\n\r\n    const gridAnim2 = gsap.to(grid2, {\r\n        x: 20,\r\n        ease: 'power1.inOut',\r\n        paused: true\r\n    });\r\n\r\n    const gridAnim3 = gsap.to(grid3, {\r\n        x: -20,\r\n        ease: 'power1.inOut',\r\n        paused: true\r\n    });\r\n\r\n    const gridAnim4 = gsap.to(grid4, {\r\n        x: 20,\r\n        ease: 'power1.inOut',\r\n        paused: true\r\n    });\r\n\r\n    ScrollTrigger.create({\r\n        trigger: bigImage,\r\n        start: 'bottom bottom',\r\n        end: 'bottom top',\r\n        scrub: 0.5,\r\n        onUpdate: self => {\r\n            const progress = self.progress;\r\n\r\n            gsap.to([gridAnim1, gridAnim2, gridAnim3, gridAnim4], {\r\n                progress: progress,\r\n                duration: 0.5,\r\n                ease: 'power1.inOut'\r\n            });\r\n\r\n            if (progress > 0 && !section.classList.contains('gallery--active')) {\r\n                section.classList.add('gallery--active');\r\n            } else if (progress === 0 && section.classList.contains('gallery--active')) {\r\n                section.classList.remove('gallery--active');\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n\r\n    // Area\r\n    const area = document.querySelector('.area');\r\n    const images = [\r\n        'img/area-img.webp',\r\n        'img/area-img2.webp',\r\n        'img/area-img3.webp',\r\n        'img/area-img4.webp',\r\n        'img/area-img5.webp',\r\n        'img/area-img6.webp',\r\n        'img/area-img7.webp',\r\n        'img/area-img8.webp',\r\n        'img/area-img9.webp',\r\n        'img/area-img10.webp',\r\n        'img/area-img11.webp',\r\n        'img/area-img12.webp',\r\n        'img/area-img13.webp',\r\n        'img/area-img14.webp',\r\n        'img/area-img15.webp',\r\n        'img/area-img16.webp',\r\n        'img/area-img17.webp',\r\n        'img/area-img18.webp',\r\n        'img/area-img19.webp',\r\n        'img/area-img20.webp',\r\n        'img/area-img21.webp',\r\n        'img/area-img22.webp',\r\n    ];\r\n    images.forEach((src, i) => {\r\n        const div = document.createElement('div');\r\n        div.style.backgroundImage = `url(${src})`;\r\n        div.style.position = 'absolute';\r\n        div.style.top = 0;\r\n        div.style.left = 0;\r\n        div.style.width = '100%';\r\n        div.style.height = '100%';\r\n        div.style.backgroundSize = 'cover';\r\n        div.style.backgroundPosition = 'center center';\r\n        div.style.opacity = i === 0 ? '1' : '0';\r\n        div.style.pointerEvents = 'none';\r\n        div.classList.add('bg-slide');\r\n        area.appendChild(div);\r\n    });\r\n    const bgSlides = gsap.utils.toArray('.bg-slide');\r\n    const slideCount = bgSlides.length;\r\n    const scrollLength = slideCount * 70;\r\n    ScrollTrigger.create({\r\n        trigger: area,\r\n        start: \"top top\",\r\n        end: \"+=\" + scrollLength,\r\n        scrub: true,\r\n        pin: true,\r\n        onUpdate: self => {\r\n            const progress = self.progress;\r\n            let index = Math.floor(progress * slideCount);\r\n            if (index >= slideCount) index = slideCount - 1;\r\n\r\n            bgSlides.forEach((slide, i) => {\r\n                slide.style.opacity = i === index ? '1' : '0';\r\n            });\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n})\r\n\r\n// Advantages\r\nconst advantagesTimeline = gsap.timeline({ paused: true });\r\nfunction animateAdvantagesItems() {\r\n    const items = document.querySelectorAll('.advantages__item');\r\n\r\n    advantagesTimeline.clear();\r\n\r\n    Array.from(items).reverse().forEach((item) => {\r\n        advantagesTimeline.to(item, {\r\n            opacity: 1,\r\n            y: 0,\r\n            duration: 0.6,\r\n            ease: 'power2.out'\r\n        }, '+=0');\r\n    });\r\n\r\n    advantagesTimeline.play();\r\n}\r\nconst observerAdvantages = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            animateAdvantagesItems();\r\n            observer.disconnect();\r\n        }\r\n    });\r\n}, {\r\n    threshold: 0.5\r\n});\r\nconst advantagesSection = document.querySelector('.advantages__items');\r\nif (advantagesSection) {\r\n    observerAdvantages.observe(advantagesSection);\r\n}\r\n\r\n// Map\r\nconst mapSection = document.querySelector('.map');\r\nconst img1 = mapSection.querySelector('.map-img');\r\nconst img2 = mapSection.querySelector('.map-img2 img');\r\nconst img1DisappearLength = 150;\r\nconst img2AppearLength = 300;\r\nconst pinExtra = 200;\r\nlet scrollTriggers = [];\r\nfunction clearTriggers() {\r\n    scrollTriggers.forEach(st => st.kill && st.kill());\r\n    scrollTriggers = [];\r\n}\r\nfunction animateMap() {\r\n    clearTriggers();\r\n\r\n    const isWide = window.innerWidth >= 992;\r\n\r\n    const img1Bottom = () => img1.getBoundingClientRect().bottom + window.pageYOffset;\r\n    const mapTop = () => mapSection.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n    const startPoint = isWide ? () => img1Bottom() - window.innerHeight : () => mapTop();\r\n\r\n    const endPointImg1 = () => startPoint() + img1DisappearLength;\r\n\r\n    const startPointImg2 = () => endPointImg1();\r\n    const endPointImg2 = () => startPointImg2() + img2AppearLength;\r\n\r\n    const pinEnd = () => endPointImg2() + pinExtra;\r\n\r\n    scrollTriggers.push(ScrollTrigger.create({\r\n        trigger: mapSection,\r\n        start: startPoint,\r\n        end: endPointImg1,\r\n        onUpdate: self => {\r\n            if (self.progress === 1) {\r\n                mapSection.classList.add('map--active');\r\n            } else {\r\n                mapSection.classList.remove('map--active');\r\n            }\r\n        }\r\n    }));\r\n\r\n    scrollTriggers.push(gsap.to(img1, {\r\n        opacity: 0,\r\n        scale: 0.8,\r\n        pointerEvents: 'none',\r\n        ease: 'none',\r\n        scrollTrigger: {\r\n            trigger: mapSection,\r\n            start: startPoint,\r\n            end: endPointImg1,\r\n            scrub: true,\r\n        }\r\n    }));\r\n\r\n    scrollTriggers.push(gsap.to(img2, {\r\n        display: 'block',\r\n        opacity: 1,\r\n        top: 0,\r\n        right: 0,\r\n        width: '100%',\r\n        pointerEvents: 'auto',\r\n        ease: 'none',\r\n        scrollTrigger: {\r\n            trigger: mapSection,\r\n            start: startPointImg2,\r\n            end: endPointImg2,\r\n            scrub: true,\r\n        }\r\n    }));\r\n\r\n    scrollTriggers.push(ScrollTrigger.create({\r\n        trigger: mapSection,\r\n        start: startPoint,\r\n        end: pinEnd,\r\n        pin: true,\r\n        pinSpacing: true,\r\n        anticipatePin: 1,\r\n    }));\r\n}\r\nconst observerMap = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            animateMap();\r\n            observer.disconnect();\r\n        }\r\n    });\r\n}, { threshold: 0.5 });\r\nif (mapSection) {\r\n    observerMap.observe(mapSection);\r\n}\r\nwindow.addEventListener('resize', () => {\r\n    if (ScrollTrigger.getAll().length) {\r\n        animateMap();\r\n    }\r\n});\r\n\r\n// House\r\nconst house = document.querySelector('.house');\r\nconst observerHouse = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            house.classList.add('house--active');\r\n        } else {\r\n            house.classList.remove('house--active');\r\n        }\r\n    });\r\n}, { threshold: 0.5 });\r\nconst houseSection = document.querySelector('.house__img');\r\nif (houseSection) {\r\n    observerHouse.observe(houseSection);\r\n}\r\n\r\n// Services\r\nconst serviceTimeline = gsap.timeline({ paused: true });\r\nconst observerServices = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            serviceTimeline.clear();\r\n\r\n            document.querySelectorAll('.services__slider .swiper-slide').forEach((item, index) => {\r\n                serviceTimeline.to(item, {\r\n                    opacity: 1,\r\n                    y: 0,\r\n                    duration: 0.6,\r\n                    ease: 'power2.out'\r\n                });\r\n            });\r\n\r\n            serviceTimeline.play();\r\n            observer.disconnect();\r\n        }\r\n    });\r\n}, { threshold: 0.5 });\r\nconst servicesSection = document.querySelector('.services__slider');\r\nif (servicesSection) {\r\n    observerServices.observe(servicesSection);\r\n}\r\n\r\n\r\n\r\n\r\n"]}