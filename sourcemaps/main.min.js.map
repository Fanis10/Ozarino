{"version":3,"sources":["01_main.js"],"names":["sliderServices","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","breakpoints","320","993","sliderArea2","effect","$","document","ready","click","addClass","removeClass","lastScrollTop","header","window","scroll","scrollTop","this","mouseenter","e","$this","$animation","find","offset","x","pageX","left","y","pageY","top","css","mousemove","isClicked","on","preventDefault","allFilled","each","$input","$formGroup","closest","val","trim","t","createTimeline","matchMedia","matches","myTimeline","kill","params","mainItemsY","mainItemsScale","gsap","timeline","scrollTrigger","trigger","start","end","scrub","pin","to","opacity","ease","scale","duration","animate","registerPlugin","ScrollTrigger","addEventListener","$main","originalBg","data","newBg","groups","utils","toArray","container","querySelector","create","innerHeight","snap","length","onUpdate","self","index","Math","round","progress","forEach","group","i","classList","add","remove","area","src","div","createElement","style","backgroundImage","position","width","height","backgroundSize","backgroundPosition","pointerEvents","appendChild","bgSlides","slideCount","scrollLength","floor","slide","items","querySelectorAll","tl","toggleActions","once","item","house","onEnter","onLeaveBack","serviceCard","tl3"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["function sliderServices() {\r\n    var swiper = new Swiper('.services .mySwiper', {\r\n        slidesPerView: \"auto\",\r\n        spaceBetween: 20,\r\n        navigation: {\r\n            nextEl: \".services .swiper-button-next\",\r\n            prevEl: \".services .swiper-button-prev\",\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                spaceBetween: 10,\r\n            },\r\n            993: {\r\n                spaceBetween: 20,\r\n            },\r\n        }\r\n    });\r\n}\r\n\r\nfunction sliderArea2() {\r\n    var swiper = new Swiper('.area2 .mySwiper', {\r\n        slidesPerView: 1,\r\n        spaceBetween: 15,\r\n        effect: \"fade\",\r\n        navigation: {\r\n            nextEl: \".area2 .swiper-button-next\",\r\n            prevEl: \".area2 .swiper-button-prev\",\r\n        },\r\n    })\r\n}\r\n\r\n$(document).ready(function () {\r\n    sliderServices();\r\n    sliderArea2();\r\n\r\n    // Menu\r\n    $('.burger').click(function () {\r\n        $('.menu').addClass('menu--active')\r\n        $('body').addClass('fixed-body')\r\n    })\r\n\r\n    $('.menu__close').click(function () {\r\n        $('.menu').removeClass('menu--active')\r\n        $('body').removeClass('fixed-body')\r\n    })\r\n\r\n    // Header\r\n    let lastScrollTop = 0;\r\n    const header = $('#header');\r\n\r\n    $(window).scroll(function() {\r\n        let scrollTop = $(this).scrollTop();\r\n\r\n        if (scrollTop > lastScrollTop) {\r\n            header.addClass('header-fixed');\r\n        } else {\r\n            header.removeClass('header-fixed');\r\n        }\r\n        lastScrollTop = scrollTop;\r\n    });\r\n\r\n    // Btn-animation\r\n    $(\".btn-animation\").mouseenter(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    $(\".btn-animation\").mousemove(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    // Form\r\n    let isClicked = false;\r\n    $('.form').on('submit', function(e) {\r\n        e.preventDefault();\r\n\r\n        isClicked = true;\r\n        let allFilled = true;\r\n\r\n        $(this).find('.form-group input').each(function() {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n                allFilled = false;\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        });\r\n    });\r\n    $('.form-group input').on('input', function() {\r\n        if (isClicked) {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        }\r\n    });\r\n\r\n    // Up\r\n    var t = $(\".up\");\r\n\r\n    $(window).scroll(function() {\r\n        if ($(window).scrollTop() > 300) {\r\n            t.addClass(\"up--active\");\r\n        } else {\r\n            t.removeClass(\"up--active\");\r\n        }\r\n    });\r\n\r\n    t.on(\"click\", function(e) {\r\n        e.preventDefault();\r\n        $(\"html, body\").animate({\r\n            scrollTop: 0\r\n        }, 300);\r\n    });\r\n\r\n    // Animation\r\n    gsap.registerPlugin(ScrollTrigger);\r\n\r\n    // Main\r\n    function getAnimationParams() {\r\n        const isMobile = window.matchMedia('(max-width: 1200px)').matches;\r\n        if (isMobile) {\r\n            return {\r\n                mainItemsY: -250,\r\n                mainItemsScale: 1.2,\r\n            };\r\n        } else {\r\n            return {\r\n                mainItemsY: -350,\r\n                mainItemsScale: 1.6,\r\n            };\r\n        }\r\n    }\r\n    function createTimeline() {\r\n        if (window.matchMedia('(max-width: 992px)').matches) {\r\n            if (window.myTimeline) {\r\n                window.myTimeline.kill();\r\n                window.myTimeline = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        const params = getAnimationParams();\r\n\r\n        if (window.myTimeline) {\r\n            window.myTimeline.kill();\r\n        }\r\n\r\n        window.myTimeline = gsap.timeline({\r\n            scrollTrigger: {\r\n                trigger: \".main\",\r\n                start: \"top top\",\r\n                end: \"+=200%\",   // увеличиваем длину триггера для задержки\r\n                scrub: true,\r\n                pin: true,\r\n            }\r\n        })\r\n            .to(\".main__title\", {\r\n                opacity: 0,\r\n                ease: \"power1.out\",\r\n            }, 0)\r\n            .to(\".main__btn\", {\r\n                y: -100,\r\n                opacity: 0,\r\n                scale: 0.8,\r\n                ease: \"power1.inOut\",\r\n            }, 0)\r\n            .to(\".main__items\", {\r\n                y: params.mainItemsY,\r\n                scale: params.mainItemsScale,\r\n                ease: \"power1.inOut\",\r\n            }, 0)\r\n            // Пустой tween для \"залипания\" после анимации\r\n            .to({}, { duration: 0.5 });\r\n    }\r\n    createTimeline();\r\n    window.addEventListener('resize', () => {\r\n        createTimeline();\r\n    });\r\n    if (!window.matchMedia('(max-width: 992px)').matches) {\r\n        var $main = $('.main');\r\n        var originalBg = $main.data('background');\r\n\r\n        $main.css('background-image', 'url(' + originalBg + ')');\r\n\r\n        $('.main__item').on('mouseenter', function() {\r\n            var newBg = $(this).data('background');\r\n            $main.css('background-image', 'url(' + newBg + ')');\r\n        });\r\n\r\n        $('.main__item').on('mouseleave', function() {\r\n            $main.css('background-image', 'url(' + originalBg + ')');\r\n        });\r\n    }\r\n\r\n    // Main-mob\r\n    const groups = gsap.utils.toArray('.main__mob-group');\r\n    const container = document.querySelector('.main__mob');\r\n    ScrollTrigger.create({\r\n        trigger: container,\r\n        start: \"top top\",\r\n        end: () => `+=${window.innerHeight * (groups.length)}`,\r\n        pin: true,\r\n        scrub: 1,\r\n        snap: 1 / (groups.length - 1),\r\n        onUpdate: self => {\r\n            // Вычисляем индекс активного блока\r\n            const index = Math.round(self.progress * (groups.length - 1));\r\n            groups.forEach((group, i) => {\r\n                if (i === index) {\r\n                    group.classList.add('active');\r\n                } else {\r\n                    group.classList.remove('active');\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    // Gallery\r\n\r\n    // Area\r\n    const area = document.querySelector('.area');\r\n    const images = [\r\n        'img/area-img.webp',\r\n        'img/area-img2.webp',\r\n        'img/area-img3.webp',\r\n        'img/area-img4.webp',\r\n        'img/area-img5.webp',\r\n        'img/area-img6.webp',\r\n        'img/area-img7.webp',\r\n        'img/area-img8.webp',\r\n        'img/area-img9.webp',\r\n        'img/area-img10.webp',\r\n        'img/area-img11.webp',\r\n        'img/area-img12.webp',\r\n        'img/area-img13.webp',\r\n        'img/area-img14.webp',\r\n        'img/area-img15.webp',\r\n        'img/area-img16.webp',\r\n        'img/area-img17.webp',\r\n        'img/area-img18.webp',\r\n        'img/area-img19.webp',\r\n        'img/area-img20.webp',\r\n        'img/area-img21.webp',\r\n        'img/area-img22.webp',\r\n    ];\r\n    images.forEach((src, i) => {\r\n        const div = document.createElement('div');\r\n        div.style.backgroundImage = `url(${src})`;\r\n        div.style.position = 'absolute';\r\n        div.style.top = 0;\r\n        div.style.left = 0;\r\n        div.style.width = '100%';\r\n        div.style.height = '100%';\r\n        div.style.backgroundSize = 'cover';\r\n        div.style.backgroundPosition = 'center center';\r\n        div.style.opacity = i === 0 ? '1' : '0';\r\n        div.style.pointerEvents = 'none';\r\n        div.classList.add('bg-slide');\r\n        area.appendChild(div);\r\n    });\r\n    const bgSlides = gsap.utils.toArray('.bg-slide');\r\n    const slideCount = bgSlides.length;\r\n    const scrollLength = slideCount * 500;\r\n    ScrollTrigger.create({\r\n        trigger: area,\r\n        start: \"top top\",\r\n        end: \"+=\" + scrollLength,\r\n        scrub: true,\r\n        pin: true,\r\n        onUpdate: self => {\r\n            const progress = self.progress;\r\n            let index = Math.floor(progress * slideCount);\r\n            if (index >= slideCount) index = slideCount - 1;\r\n\r\n            bgSlides.forEach((slide, i) => {\r\n                slide.style.opacity = i === index ? '1' : '0';\r\n            });\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n})\r\n\r\n// Advantages\r\nconst items = document.querySelectorAll('.advantages__item');\r\nconst tl = gsap.timeline({\r\n    scrollTrigger: {\r\n        trigger: '.advantages__items',\r\n        start: 'top 80%',\r\n        end: 'bottom 20%',\r\n        toggleActions: 'play none none none',\r\n        once: true,\r\n    }\r\n});\r\nitems.forEach((item) => {\r\n    tl.to(item, {\r\n        opacity: 1,\r\n        y: 0,\r\n        duration: 0.6,\r\n        ease: 'power2.out'\r\n    }, '+=0.2');\r\n});\r\n\r\n// Map\r\n\r\n// House\r\nconst house = document.querySelector('.house');\r\nScrollTrigger.create({\r\n    trigger: '.house__img',\r\n    start: 'top center',\r\n    end: 'bottom center',\r\n    onEnter: () => {\r\n        house.classList.add('house--active');\r\n    },\r\n    onLeaveBack: () => {\r\n        house.classList.remove('house--active');\r\n    }\r\n});\r\n\r\n// Services\r\nconst serviceCard = document.querySelectorAll('.services__slider .swiper-slide');\r\nconst tl3 = gsap.timeline({\r\n    scrollTrigger: {\r\n        trigger: '.services__slider',\r\n        start: 'top 80%',\r\n        end: 'bottom 20%',\r\n        toggleActions: 'play none none none',\r\n        once: true,\r\n    }\r\n});\r\nserviceCard.forEach((item) => {\r\n    tl3.to(item, {\r\n        opacity: 1,\r\n        y: 0,\r\n        duration: 0.6,\r\n        ease: 'power2.out'\r\n    }, '+=0.2');\r\n});\r\n\r\n\r\n\r\n"]}