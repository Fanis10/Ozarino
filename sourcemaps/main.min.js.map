{"version":3,"sources":["01_main.js"],"names":["sliderServices","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","breakpoints","320","993","planGallery","swiper","freeMode","thumbs","$","document","ready","click","addClass","removeClass","mouseenter","e","$this","this","$animation","find","offset","x","pageX","left","y","pageY","top","css","mousemove","isClicked","on","preventDefault","allFilled","each","$input","$formGroup","closest","val","trim","t","closeModal","window","scroll","scrollTop","animate","modalId","openModal","attr","stopPropagation","id","data","rect","getBoundingClientRect","scrollLeft","$card","filter","cardWidth","outerWidth","windowWidth","width","display","transform","setTimeout","length","hide","isAnimating","isImg2Hidden","blockScroll","position","handleAction","fadeOut","remove","unblockScroll","off","onScroll"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["function sliderServices() {\r\n    var swiper = new Swiper('.services .mySwiper', {\r\n        slidesPerView: \"auto\",\r\n        spaceBetween: 20,\r\n        navigation: {\r\n            nextEl: \".services .swiper-button-next\",\r\n            prevEl: \".services .swiper-button-prev\",\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                spaceBetween: 10,\r\n            },\r\n            993: {\r\n                spaceBetween: 20,\r\n            },\r\n        }\r\n    });\r\n}\r\n\r\nfunction planGallery() {\r\n    var swiper = new Swiper(\".plan__images .mySwiper\", {\r\n        slidesPerView: 4,\r\n        spaceBetween: 16,\r\n        freeMode: true,\r\n    });\r\n    var swiper2 = new Swiper(\".plan__images .mySwiper2\", {\r\n        spaceBetween: 16,\r\n        slidesPerView: 1,\r\n        thumbs: {\r\n            swiper: swiper,\r\n        },\r\n        navigation: {\r\n            nextEl: \".swiper-button-next\",\r\n            prevEl: \".swiper-button-prev\",\r\n        },\r\n    });\r\n}\r\n\r\n$(document).ready(function () {\r\n    sliderServices();\r\n    planGallery();\r\n\r\n    // Menu\r\n    $('.burger').click(function () {\r\n        $('.menu').addClass('menu--active')\r\n        $('body').addClass('fixed-body')\r\n    })\r\n\r\n    $('.menu__close').click(function () {\r\n        $('.menu').removeClass('menu--active')\r\n        $('body').removeClass('fixed-body')\r\n    })\r\n\r\n    // Header\r\n    // let lastScrollTop = 0;\r\n    // const header = $('#header');\r\n    //\r\n    // $(window).scroll(function() {\r\n    //     let scrollTop = $(this).scrollTop();\r\n    //\r\n    //     if (scrollTop > lastScrollTop) {\r\n    //         header.addClass('header-fixed');\r\n    //     } else {\r\n    //         header.removeClass('header-fixed');\r\n    //     }\r\n    //     lastScrollTop = scrollTop;\r\n    // });\r\n\r\n    // Btn-animation\r\n    $(\".btn-animation\").mouseenter(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    $(\".btn-animation\").mousemove(function(e) {\r\n        var $this = $(this);\r\n        var $animation = $this.find(\".circle\");\r\n        var offset = $this.offset();\r\n        var x = e.pageX - offset.left;\r\n        var y = e.pageY - offset.top;\r\n        $animation.css({\r\n            top: y + 'px',\r\n            left: x + 'px'\r\n        });\r\n    });\r\n\r\n    // Form\r\n    let isClicked = false;\r\n    $('.form').on('submit', function(e) {\r\n        e.preventDefault();\r\n\r\n        isClicked = true;\r\n        let allFilled = true;\r\n\r\n        $(this).find('.form-group input').each(function() {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n                allFilled = false;\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        });\r\n    });\r\n    $('.form-group input').on('input', function() {\r\n        if (isClicked) {\r\n            const $input = $(this);\r\n            const $formGroup = $input.closest('.form-group');\r\n\r\n            if ($input.val().trim() === '') {\r\n                $formGroup.addClass('form-group--active');\r\n            } else {\r\n                $formGroup.removeClass('form-group--active');\r\n            }\r\n        }\r\n    });\r\n\r\n    // Up\r\n    var t = $(\".up\");\r\n\r\n    $(window).scroll(function() {\r\n        if ($(window).scrollTop() > 300) {\r\n            t.addClass(\"up--active\");\r\n        } else {\r\n            t.removeClass(\"up--active\");\r\n        }\r\n    });\r\n\r\n    t.on(\"click\", function(e) {\r\n        e.preventDefault();\r\n        $(\"html, body\").animate({\r\n            scrollTop: 0\r\n        }, 300);\r\n    });\r\n\r\n    // Modal\r\n    $(\"[data-modal]\").click(function () {\r\n        let modalId = $(this).attr(\"data-modal\")\r\n\r\n        openModal(modalId)\r\n    })\r\n\r\n    function openModal(modalId){\r\n        $(`#${modalId}`).addClass(\"modal--active\")\r\n        $(\"body\").addClass(\"fixed-body\")\r\n    }\r\n\r\n    $(\".modal\").click(function () {\r\n        closeModal()\r\n    })\r\n\r\n    $(\"._close-modal\").click(function () {\r\n        closeModal()\r\n    })\r\n\r\n    $(\".modal__dialog\").click(function (e) {\r\n        e.stopPropagation()\r\n    })\r\n\r\n\r\n    function closeModal() {\r\n        $('.modal').removeClass(\"modal--active\")\r\n        $(\"body\").removeClass(\"fixed-body\")\r\n    }\r\n\r\n    // Plan\r\n    $('.path-btn').on('mouseenter', function(e) {\r\n        e.stopPropagation();\r\n\r\n        var $btn = $(this);\r\n        var id = $btn.data('id');\r\n\r\n        var rect = this.getBoundingClientRect();\r\n        var top = rect.top + $(window).scrollTop();\r\n        var left = rect.left + $(window).scrollLeft();\r\n\r\n        var $card = $('.service-card').filter('[data-id=\"' + id + '\"]');\r\n        var cardWidth = $card.outerWidth();\r\n        var windowWidth = $(window).width();\r\n\r\n        if (left + cardWidth > windowWidth + $(window).scrollLeft()) {\r\n            left = windowWidth + $(window).scrollLeft() - cardWidth - 10;\r\n        }\r\n\r\n        $card.css({\r\n            'top': (top - 80) + 'px',\r\n            'left': left + 'px',\r\n            'display': 'block'\r\n        });\r\n\r\n        if ($(window).width() <= 576) {\r\n            $('.section-bg').addClass('section-bg--active')\r\n            $card.css({\r\n                'transform': 'translate(0)'\r\n            });\r\n        }\r\n    });\r\n\r\n    $('.path-btn, .service-card').on('mouseleave', function() {\r\n        var $this = $(this);\r\n        var id = $this.data('id');\r\n\r\n        setTimeout(function() {\r\n            if (!$('.path-btn[data-id=\"' + id + '\"]:hover').length && !$('.service-card[data-id=\"' + id + '\"]:hover').length) {\r\n                $('.service-card[data-id=\"' + id + '\"]').hide();\r\n            }\r\n        }, 100);\r\n    });\r\n\r\n    //\r\n    $('.plan__btn').click(function () {\r\n        $('.plan__images').addClass('plan__images--active')\r\n    })\r\n\r\n    $('.plan__images-close').click(function () {\r\n        $('.plan__images').removeClass('plan__images--active')\r\n    })\r\n\r\n    //\r\n    $('.section-bg').click(function () {\r\n        $(this).removeClass('section-bg--active')\r\n    })\r\n\r\n    //\r\n    let isAnimating = false; // флаг, чтобы не запускать анимацию повторно\r\n    let isImg2Hidden = false;\r\n\r\n    if ($('.plan').length > 0) {\r\n        // Функция блокировки скролла — универсальный способ для desktop и мобильных\r\n        function blockScroll() {\r\n            // Запоминаем текущий скролл\r\n            const scrollTop = $(window).scrollTop();\r\n            // Добавляем класс, который фиксирует body и запрещает скролл\r\n            $('body').addClass('fixed-body').css({\r\n                top: -scrollTop + 'px',\r\n                position: 'fixed',\r\n                width: '100%'\r\n            });\r\n            // Сохраняем scrollTop в data-атрибуте, чтобы потом вернуть\r\n            $('body').data('scrollTop', scrollTop);\r\n        }\r\n\r\n        // Функция разблокировки скролла\r\n        function unblockScroll() {\r\n            const scrollTop = $('body').data('scrollTop');\r\n            $('body').removeClass('fixed-body').css({\r\n                position: '',\r\n                top: '',\r\n                width: ''\r\n            });\r\n            // Возвращаем скролл на прежнее место\r\n            $(window).scrollTop(scrollTop);\r\n        }\r\n\r\n        function handleAction() {\r\n            if (isAnimating) return; // если анимация уже идет — игнорируем\r\n\r\n            isAnimating = true;\r\n            blockScroll();\r\n\r\n            if (!isImg2Hidden) {\r\n                $('.plan__img2').fadeOut(400, function() {\r\n                    isImg2Hidden = true;\r\n                    isAnimating = false;\r\n                    // Оставляем скролл заблокированным, т.к. .plan-mob еще не удален\r\n                });\r\n            } else {\r\n                $('.plan-mob').fadeOut(400, function() {\r\n                    $(this).remove();\r\n                    isAnimating = false;\r\n                    unblockScroll(); // Разблокируем скролл после удаления\r\n                    // Можно отключить обработчики, т.к. элемент удален\r\n                    $(window).off('scroll', onScroll);\r\n                    $('.scroll-btn').off('click');\r\n                });\r\n            }\r\n        }\r\n\r\n        function onScroll(e) {\r\n            // При скролле вниз запускаем handleAction\r\n            // Можно добавить проверку направления скролла, если нужно\r\n            if (!isImg2Hidden) {\r\n                handleAction();\r\n            }\r\n            // Если уже скрыли img2, то скролл не запускает повторно\r\n        }\r\n\r\n        // Блокируем скролл изначально, чтобы пользователь не мог проскроллить до удаления\r\n        blockScroll();\r\n\r\n        $(window).on('scroll', onScroll);\r\n\r\n        $('.scroll-btn').on('click', function() {\r\n            handleAction();\r\n        });\r\n    }\r\n\r\n})\r\n\r\n\r\n"]}